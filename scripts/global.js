function $(e,t){return(t||document).querySelector(e)}function $$(e,t){return(t||document).querySelectorAll(e)}function on(e,t,o,a={}){(e="string"==typeof e?$(e):e)&&(e.addEventListener?e.addEventListener(t,o,a):e.forEach&&e.forEach(e=>e.addEventListener(t,o,a)))}function remove(e){e&&(e.forEach?e.forEach(e=>e.remove()):e.remove())}function vmAdd(){self.__VM=self.__VM||[],self.__VM.push((e,t)=>{window.AdVideo&&(AdVideo=t.Config.get("video_slider",{disableBreakpoint:"mobile"}).display({body:!0})),window.AdVertical&&t.Config.verticalSticky().display(),window.AdSticky&&(AdSticky=t.Config.buildPlacement(e=>{e.add("billboard"),e.addDefaultOrUnique("mobile_banner").setBreakPoint("mobile")},"ad2").display("ad2"),$("#ad2-close").style.display=""),window.AdTop&&(AdTop=t.Config.buildPlacement(e=>{e.add("billboard"),e.addDefaultOrUnique("mobile_banner").setBreakPoint("mobile")},"top").display("ad-atf")),window.AdBottom&&(AdBottom=t.Config.buildPlacement(e=>{e.add("billboard"),e.addDefaultOrUnique("double_mpu").setBreakPoint("mobile")},"bottom").display("ad-btf"))})}function vmRemove(){self.__VM=self.__VM||[],self.__VM.push((e,t)=>{window.AdVideo&&e.removePlacement(AdVideo.instance()),window.AdVertical&&t.Config.verticalSticky().destroy(),window.AdSticky&&e.removePlacement(AdSticky.instance()),window.AdTop&&e.removePlacement(AdTop.instance()),window.AdBottom&&e.removePlacement(AdBottom.instance())})}function closeModal(e=!0,t=!0){const o=$(".modal-wrap");if(o){remove($(".contextmenu")),modalAd&&$("#item-details-ad")&&self.__VM.push((e,t)=>{e.removePlacement(modalAd.instance()),modalAd=null}),modalAd2&&$("#item-details-ad2")&&self.__VM.push((e,t)=>{e.removePlacement(modalAd2.instance()),modalAd2=null}),modalAd3&&$("#item-details-ad3")&&self.__VM.push((e,t)=>{e.removePlacement(modalAd3.instance()),modalAd3=null}),audio&&(audio.pause(),audio.src="",audio.load(),audio.onended=null,audio.onloadedmetadata=null,audio.ontimeupdate=null,audio.onplay=null,audio.onpause=null,audio=null);const a=$(".item-video",o);a&&(a.pause(),a.onclick=null,a.oncontextmenu=null,a.onpause=null,a.onplay=null,a.onloadedmetadata=null,a.onerror=null,remove(a)),remove($("#item-jam")),o.onclick=null,remove($$(".modal-wrap")),document.documentElement.classList.remove("overflow-hidden"),t&&adsRemoved&&(vmAdd(),adsRemoved=!1),e&&Url!==location.pathname+location.search&&history.pushState(null,"",Url)}}window.emojis=["üí©","ü§Æ","üòê","üòç","üî•"],window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.addEventListener("popstate",function(e){e.state&&e.state.itemId?modal(e.state.itemId,"item","",{fromPopstate:!0}):closeModal(!1)});var modalAd=null,modalAd2=null,modalAd3=null,audio=null,adsRemoved=!1;function modal(E,e,k="",T={}){closeModal(!1,!1);let t="",o=null;"item"===e?(t="",k="/cosmetics?id="+E,o={itemId:E},window.gtag&&gtag("event","page_view",{page_location:"https://fortnite.gg/item-details?id="+E})):t="img"===e?'<img src="'+E+'">':"video"===e?'<video loop autoplay playsinline src="'+E+'" onclick="this.paused ? this.play() : this.pause()"></video>':"video-controls"===e?'<video controls loop autoplay playsinline src="'+E+'"></video>':"video-hls"===e?'<video id="video-hls-modal" controls loop autoplay playsinline data-src="'+E+'" style="width:960px;height:540px"></video>':"yt"===e?'<div><div class="iframe-container"><iframe src="https://www.youtube-nocookie.com/embed/'+E+(~E.indexOf("?")?"&":"?")+'autoplay=1&rel=0&playsinline=1&modestbranding=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div></div>':"page"===e?'<iframe style="width:100vw;height:100vh" src="'+E+'"></iframe>':"wiki"===e?'<iframe style="width:86vw;height:86vh;border-radius:8px" src="https://en.m.wikipedia.org/wiki/'+E+'"></iframe>':"twitter"===e?'<div id="twitter-container" style="width:540px;max-width:100%"></div>':E,k&&!T.fromPopstate&&history.pushState(o,"",k);const _=document.createElement("div");var a;return _.className="modal-wrap","item"===e&&840<window.innerWidth&&(_.style.padding="0 40px"),_.onclick=function(e){e.target.classList.contains("modal-wrap")&&closeModal()},_.innerHTML=(T.hideCloseBtn?"":'<div class="close-modal" onclick="closeModal()"><svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></div>')+t,document.body.insertBefore(_,document.body.firstChild),document.documentElement.classList.add("overflow-hidden"),"twitter"===e&&twttr.widgets.createTweet(E,$("#twitter-container"),{theme:"dark",dnt:!0}),"item"===e&&(vmRemove(),adsRemoved=!0,window.storedType||window.storedVotes||(window.storedType="items","/best-seasons"===location.pathname?window.storedType="seasons":"/concept-royale"===location.pathname&&(window.storedType="crc"),window.storedVotes={},localStorage["fngg_"+window.storedType+"_votes"]&&(window.storedVotes=JSON.parse(localStorage["fngg_"+window.storedType+"_votes"]))),T.cache||ajax("/item-details?id="+E+(Url.startsWith("/shop")?"&shop":""),function(e){!function(e){var t,o,a,n,i,s;T.hideItemArrows||!window.ItemsFiltered&&!window.Items||(t=parseInt(E),o=(window.ItemsFiltered||window.Items).findIndex(e=>e.id==t),a=(window.ItemsFiltered||window.Items)[o-1],n=(window.ItemsFiltered||window.Items)[o+1],i=E.endsWith&&E.endsWith("-lego"),-1<o&&a&&(e+='<div class="close-modal modal-arrow-left" onclick="modal(\''+a.id+(i?"-lego":"")+'\', \'item\')"><svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></div>'),-1<o&&n&&(e+='<div class="close-modal modal-arrow-right" onclick="modal(\''+n.id+(i?"-lego":"")+'\', \'item\')"><svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div>')),_.insertAdjacentHTML("beforeend",e),_.classList.add("modal-wrap-cosmetics");const d=$("#item-details-ad3");function l(){d&&(d.style.display=d.offsetWidth<160||window.innerWidth<841?"none":"block")}l(),on(".js-item-img","load",l);const r=$("#item-jam",_);r&&(r.style.height=r.offsetWidth/(16/9)+"px");const c=$(".item-video",_);if(c){c.dataset.outfit&&_.classList.add("modal-wrap-outfit");const f=document.createElement("div");f.className="pause-btn",f.style.position="absolute",f.style.display="none",f.style.pointerEvents="none",f.innerHTML='<svg width="32" height="32" viewBox="0 0 18 18"><path d="M6.01053 2.82974C5.01058 2.24153 3.75 2.96251 3.75 4.12264V13.8774C3.75 15.0375 5.01058 15.7585 6.01053 15.1703L14.3021 10.2929C15.288 9.71294 15.288 8.28709 14.3021 7.70711L6.01053 2.82974Z" fill="#fff"></path></svg>',c.after(f),on(c,"click",()=>{c.paused?c.play():c.pause()}),on(c,"contextmenu",e=>{e.preventDefault(),remove($(".contextmenu"));const t=document.createElement("div");t.className="contextmenu",t.style.top=e.clientY+"px",t.style.left=e.clientX+"px",t.oncontextmenu=e=>e.preventDefault();const o=document.createElement("div");if(o.className="contextmenu-item",o.innerHTML='<svg fill="currentColor" viewBox="0 0 48 48" width="1em" height="1em"><path d="M21.9 7.38v19.86l-6.73-6.73a.87.87 0 0 0-1.24 0l-1.73 1.73a.88.88 0 0 0 0 1.24l11.18 11.18c.34.35.9.35 1.24 0L35.8 23.48a.88.88 0 0 0 0-1.24l-1.73-1.73a.87.87 0 0 0-1.24 0l-6.73 6.73V7.38c0-.49-.4-.88-.87-.88h-2.45c-.49 0-.88.4-.88.88ZM10.88 37.13c-.49 0-.88.39-.88.87v2.63c0 .48.4.87.88.87h26.24c.49 0 .88-.4.88-.87V38c0-.48-.4-.87-.88-.87H10.89Z"></path></svg><div class="contextmenu-text">Download video</div>',o.onclick=()=>{var e=c.src.replace("-sd","");fetch(e).then(e=>e.blob()).then(e=>{e=window.URL.createObjectURL(e);const t=document.createElement("a");t.style.display="none",t.href=e,t.download="Download.mp4",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(e)})},t.append(o),"share"in navigator){const n=document.createElement("div");n.className="contextmenu-item",n.innerHTML='<svg fill="currentColor" viewBox="0 0 48 48" width="1em" height="1em"><path d="M2.18 7.17A2 2 0 0 1 4 6h40a2 2 0 0 1 1.74 3l-20 35a2 2 0 0 1-3.65-.4L16.22 25 2.49 9.32a2 2 0 0 1-.31-2.15Zm18.2 17.72 4.15 13.15L40.55 10H8.41l9.98 11.41 11.71-7.2a1 1 0 0 1 1.38.32l1.04 1.7a1 1 0 0 1-.32 1.38L20.38 24.9Z"></path></svg><div class="contextmenu-text">Share</div>',n.onclick=()=>{navigator.share({url:"https://fortnite.gg"+location.pathname+location.search,title:$(".fn-detail-name").textContent})},t.append(n)}const a=document.createElement("div");if(a.className="contextmenu-item",a.innerHTML='<svg fill="currentColor" viewBox="0 0 48 48" width="1em" height="1em"><path d="M10.21 19.4a1 1 0 0 1 1.42 0l2.33 2.34a1 1 0 0 1 0 1.41l-3.89 3.89a7.7 7.7 0 0 0 10.89 10.89l3.89-3.89a1 1 0 0 1 1.41 0l2.34 2.33a1 1 0 0 1 0 1.42l-3.9 3.89A13 13 0 0 1 6.33 23.29l3.9-3.89ZM34.04 24.85a1 1 0 0 0 0 1.41l2.34 2.34a1 1 0 0 0 1.4 0l3.9-3.9A13 13 0 0 0 23.29 6.33l-3.89 3.9a1 1 0 0 0 0 1.4l2.34 2.34a1 1 0 0 0 1.41 0l3.9-3.89a7.7 7.7 0 1 1 10.88 10.89l-3.89 3.89Z"></path><path d="M15.76 28.49a1 1 0 0 0 0 1.41l2.34 2.34a1 1 0 0 0 1.41 0L32.24 19.5a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.4 0L15.75 28.5Z"></path></svg><div class="contextmenu-text">Copy link</div>',a.onclick=()=>copyToClipboard("https://fortnite.gg"+location.pathname+location.search),t.append(a),"pictureInPictureEnabled"in document){const i=document.createElement("div");i.className="contextmenu-item",i.innerHTML='<svg fill="currentColor" viewBox="0 0 48 48" width="1em" height="1em"><path d="M36 6H12a1 1 0 0 0-1 1v32a1 1 0 0 0 1 1h7a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5h24a5 5 0 0 1 5 5v9a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7a1 1 0 0 0-1-1Z"></path><path d="M24 26a5 5 0 0 1 5-5h10a5 5 0 0 1 5 5v15a5 5 0 0 1-5 5H29a5 5 0 0 1-5-5V26Zm5-1a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V26a1 1 0 0 0-1-1H29Z"></path></svg><div class="contextmenu-text">Picture-in-picture</div>',i.onclick=()=>document.pictureInPictureElement?document.exitPictureInPicture():c.requestPictureInPicture(),t.append(i)}document.body.append(t)}),on(c,"pause",()=>{u(),f.style.display="block"}),on(c,"play",()=>{u(),f.style.display="none"});let t=null;if(!c.muted&&window.matchMedia("(hover: hover)").matches){t=document.createElement("div"),t.className="volume-slider volume-slider-video",t.innerHTML='<input type="range" min="0" max="1" value="1" step="0.01"><svg viewBox="0 0 24 24" class="f"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>';const h=$("input",t),g=$("svg",t);function m(e){isNaN(e)||(h.value=e);e=h.value;c.volume=e,localStorage.fngg_item_volume=e,h.style.setProperty("--volume-slider-percent",100*e+"%"),0!=e||g.dataset.isMuted||(g.dataset.isMuted=1,g.innerHTML='<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>'),0!=e&&g.dataset.isMuted&&(delete g.dataset.isMuted,g.innerHTML='<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>')}localStorage.fngg_item_volume&&(c.volume=localStorage.fngg_item_volume,h.value=localStorage.fngg_item_volume),m(),h.oninput=m;let e=1;g.onclick=()=>{0!=h.value&&(e=h.value),g.dataset.isMuted?m(e):m(0)},c.after(t)}function u(){f.style.top=c.offsetTop+c.offsetHeight-46+"px",f.style.left=c.offsetLeft+11+"px",t&&(t.style.top=c.offsetTop+c.offsetHeight-46+"px",t.style.left=c.offsetLeft+c.offsetWidth-46+"px")}on(c,"loadedmetadata",u),on(c,"loadedmetadata",l),on(c,"error",()=>{c.src.includes("-sd.mp4")||(c.src=c.src.replace(".mp4","-sd.mp4"))})}const p=$(".audio-play",_);if(p){function v(e){var t=Math.floor(e/60),e=Math.floor(e%60);return t+":"+(e<10?"0"+e:e)}const w=$(".audio-progress",_),y=$(".audio-current-time",_),L=$(".audio-duration",_);if((audio=document.createElement("audio")).src=p.dataset.src,audio.autoplay=!0,audio.load(),audio.currentTime=0,w.style.setProperty("--volume-slider-percent","0%"),audio.oncanplay=audio.play,audio.onended=()=>audio.currentTime=0,audio.onloadedmetadata=()=>L.textContent=v(audio.duration),audio.ontimeupdate=()=>{audio.currentTime&&audio.duration&&(w.value=audio.currentTime/audio.duration,w.style.setProperty("--volume-slider-percent",100*w.value+"%"),y.textContent=v(audio.currentTime))},audio.onplay=()=>p.innerHTML='<path d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12zm7.5-5a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-2zm5 0a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-2z"></path>',audio.onpause=()=>p.innerHTML='<path d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12zm8.75-4.567a.5.5 0 0 0-.75.433v8.268a.5.5 0 0 0 .75.433l7.161-4.134a.5.5 0 0 0 0-.866L9.75 7.433z"></path>',p.onclick=()=>audio.paused?audio.play():audio.pause(),w.oninput=()=>audio.currentTime=audio.duration*w.value,window.matchMedia("(hover: hover)").matches){const b=document.createElement("div");b.className="volume-slider",b.innerHTML='<input type="range" min="0" max="1" value="1" step="0.01"><svg viewBox="0 0 24 24" class="f"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>';const x=$("input",b),M=$("svg",b);function m(e){isNaN(e)||(x.value=e);e=x.value;audio.volume=e,localStorage.fngg_volume=e,x.style.setProperty("--volume-slider-percent",100*e+"%"),0!=e||M.dataset.isMuted||(M.dataset.isMuted=1,M.innerHTML='<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>'),0!=e&&M.dataset.isMuted&&(delete M.dataset.isMuted,M.innerHTML='<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>')}localStorage.fngg_volume&&(audio.volume=localStorage.fngg_volume,x.value=localStorage.fngg_volume),m(),x.oninput=m;let e=1;M.onclick=()=>{0!=x.value&&(e=x.value),M.dataset.isMuted?m(e):m(0)},p.after(b)}}(e=$(".shop-out",_))&&(s=Date.parse(e.getAttribute("datetime")),e.textContent=new Intl.DateTimeFormat("default",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(s)),"share"in navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&((s=document.createElement("div")).className="item-share-btn",s.textContent="Share",s.onclick=function(){navigator.share({url:"https://fortnite.gg"+k,title:$(".fn-detail-name").textContent})},$(".item-add-my",_).append(s)),$$(".vote-options",_).forEach(function(e){var t=window.storedVotes[e.dataset.id];void 0===t||(e=$('[data-vote="'+t+'"]',e))&&e.classList.add("active")}),$$(".vote-option",_).forEach(function(e){e.addEventListener("click",voteClick)}),$$("[data-tooltip]",_).forEach(function(e){initTooltip(e)}),$$(".fn-assets-header",_).forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("opened"),this.nextElementSibling.classList.toggle("opened")})}),$("#item-details-ad")&&(self.__VM=self.__VM||[],self.__VM.push((e,t)=>{modalAd=t.Config.get("mobile_banner","item").display("item-details-ad")})),$("#item-details-ad2")&&(self.__VM=self.__VM||[],self.__VM.push((e,t)=>{modalAd2=t.Config.get("mpu","item2").display("item-details-ad2")})),d&&841<=window.innerWidth&&(self.__VM=self.__VM||[],self.__VM.push((e,t)=>{modalAd3=t.Config.get("skyscraper","item3").display("item-details-ad3")}))}(e.responseText)})),"video-hls"===e&&(a=$("#video-hls-modal",_),window.Hls&&Hls.isSupported()?((e=new Hls).loadSource(a.dataset.src),e.attachMedia(a),e.on(Hls.Events.MANIFEST_PARSED,function(){a.play()})):a.canPlayType("application/vnd.apple.mpegurl")&&(a.src=a.dataset.src,a.addEventListener("canplay",function(){a.play()})),localStorage.fngg_map_volume&&(a.volume=localStorage.fngg_map_volume),a.addEventListener("volumechange",()=>localStorage.fngg_map_volume=a.volume)),!1}function itemStyle(o,e,t,a){const n=$(".item-video");if(n){$$(".style-variant",o.parentNode).forEach(e=>e.classList.remove("active")),o.classList.add("active");const s=[];$$(".style-variant.active").forEach(e=>s.push(e.dataset.idx));var i=s.every(e=>"1"===e);let e="https://fnggcdn.com/items/"+n.dataset.id+"/video-"+s.join("-")+".mp4?"+n.dataset.v,t=n.dataset.id+"-"+s.join("-");i&&(e="https://fnggcdn.com/items/"+n.dataset.id+"/video.mp4?"+n.dataset.v,t=n.dataset.id),n.src=e;const d=$(".style-name",o.parentNode.previousSibling);d&&(d.textContent=a),history.pushState({itemId:t},"","/cosmetics?id="+t)}}function itemGame(e,t){const o=$(".item-video");if(o)if($$(".game-variant",e.parentNode).forEach(e=>e.classList.remove("active")),e.classList.add("active"),"lego"==t){o.src="https://fnggcdn.com/items/"+o.dataset.id+"/lego.mp4?"+o.dataset.v;var a=o.dataset.id+"-lego";history.pushState({itemId:a},"","/cosmetics?id="+a),$("#style-variants").style.display="none"}else{const n=[];$$(".style-variant.active").forEach(e=>n.push(e.dataset.idx));a=n.every(e=>"1"===e);let e="https://fnggcdn.com/items/"+o.dataset.id+"/video-"+n.join("-")+".mp4?"+o.dataset.v,t=o.dataset.id+"-"+n.join("-");a&&(e="https://fnggcdn.com/items/"+o.dataset.id+"/video.mp4?"+o.dataset.v,t=o.dataset.id),o.src=e,$("#style-variants").style.display="",history.pushState({itemId:t},"","/cosmetics?id="+t)}}function ajax(e,t,o){var a=new XMLHttpRequest;return a.open(o?"POST":"GET",e),o&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t&&(a.onload=function(){t(a)}),a.send(o),a}function formatVotes(e){return 1e9<=e?Math.round(e/1e9*10)/10+"B":1e6<=e?Math.round(e/1e6*10)/10+"M":1e3<=e?Math.round(e/1e3*10)/10+"K":e}function voteClick(){var e=this.parentNode.dataset.id,n=Number(this.dataset.vote),i=window.storedVotes[e];this.classList.contains("active")||(ajax("/vote-click",null,"id="+e+"&vote="+n+"&type="+window.storedType),$$('.vote-options[data-id="'+e+'"]').forEach(function(e){$$(".vote-option",e).forEach(function(e){e.classList.remove("active");var t,o=e.dataset.vote;o==n&&(e.classList.add("active"),t=Number($(".vote-count",e).textContent),isNaN(t)||($(".vote-count",e).textContent=t+1)),void 0!==i&&o==i&&(t=Number($(".vote-count",e).textContent),isNaN(t)||($(".vote-count",e).textContent=t-1))});var t=Number(e.dataset.sum),o=Number(e.dataset.total);void 0!==i?t+=n-i:(t+=n,o++);var a=25*(t/o);$(".bar-fire",e.parentNode).style.width=a+"%",$(".bar-shit",e.parentNode).style.width=100-a+"%",e.dataset.sum=t,e.dataset.total=o}),window.storedVotes[e]=n,localStorage["fngg_"+window.storedType+"_votes"]=JSON.stringify(window.storedVotes))}function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function showMessage(e,t,o=4e3){$$(".message").forEach(function(e){remove(e)});var a=document.createElement("div");a.className="message"+(t?" "+t:""),a.innerHTML='<svg class="message-close" onclick="this.parentNode.parentNode.removeChild(this.parentNode)" width="20" height="20"><path d="M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM7.17 5.76a1 1 0 0 0-1.41 1.41L8.59 10l-2.83 2.83a1 1 0 0 0 1.41 1.41L10 11.41l2.83 2.83a1 1 0 0 0 1.41-1.41L11.41 10l2.83-2.83a1 1 0 1 0-1.41-1.41L10 8.59z" fill-rule="evenodd" fill="#000"></path></svg>'+e,document.body.appendChild(a),setTimeout(function(){remove(a)},o)}function setTooltip(e,t){"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(e.setAttribute("data-tooltip",t),remove(tooltip),e.onmouseenter||initTooltip(e))}function addTooltip(e){var t,o,a;"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(document.body.appendChild(tooltip),tooltip.textContent=e.getAttribute("data-tooltip"),t=e.getBoundingClientRect(),o=window.pageYOffset+t.top+t.height,a=0,e.hasAttribute("data-tooltip-top")&&(o-=t.height),a=e.hasAttribute("data-tooltip-left")?window.pageXOffset+t.left:e.hasAttribute("data-tooltip-right")?window.pageXOffset+t.right-tooltip.offsetWidth:window.pageXOffset+t.left+t.width/2-tooltip.offsetWidth/2,tooltip.style.top=o+"px",tooltip.style.left=a+"px")}function initTooltip(e){"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(e.onmouseenter=function(){addTooltip(this)},e.onmouseleave=function(){remove(tooltip)})}function selectLang(e){var t;"en"===e?document.cookie="fngg_lang=; expires=Thu, 01 Jan 1970 00:00:01 GMT":((t=new Date).setDate(t.getDate()+3650),document.cookie="fngg_lang="+e+"; expires="+t),location.reload(!0)}function selectRegion(e){var t=new Date;t.setDate(t.getDate()+3650),document.cookie="fngg_region="+e+"; expires="+t,location.reload(!0)}function selectPlatform(e){var t=new Date;t.setDate(t.getDate()+3650),document.cookie="fngg_platform="+e+"; expires="+t,location.reload(!0)}function drawingsVote(t,e){t.style.color||ajax("/drawings?vote="+e,function(e){200===e.status&&(t.style.color="#2bde73","You have already voted"===e.responseText?showMessage(e.responseText,"ok"):(e=t.querySelector(".drawings-vote-count")).textContent=parseInt(e.textContent)+1)})}function copyToClipboard(e){var t=document.createElement("textarea");t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.left="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;t.style.top=o+"px",t.setAttribute("readonly",""),t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);t.value;document.execCommand("copy"),document.body.removeChild(t),showMessage("Link copied to clipboard","ok")}let observer;function lazyLoad(e,t){(e="string"==typeof e?$(e):e)&&("IntersectionObserver"in window?(observer=observer||new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(observer.unobserve(e.target),e.target.dispatchEvent(new Event("lazyload")))})}),observer.observe(e),e.addEventListener("lazyload",t,{once:!0})):t())}var tooltip=document.createElement("div");tooltip.className="tooltip",window.addEventListener("keydown",function(e){"Escape"===e.key&&closeModal(),"ArrowLeft"!==e.key&&"a"!==e.key||!$(".modal-arrow-left")||$(".modal-arrow-left").click(),"ArrowRight"!==e.key&&"d"!==e.key||!$(".modal-arrow-right")||$(".modal-arrow-right").click()," "===e.key&&$(".item-video")&&($(".item-video").paused?$(".item-video").play():$(".item-video").pause())},!0),document.addEventListener("DOMContentLoaded",function(){var e="standalone"in window.navigator&&!0===window.navigator.standalone,t=window.matchMedia("(display-mode: standalone)").matches;(e||t)&&$("#header").insertAdjacentHTML("beforeend",'<div class="nav-item lang-select" onclick="window.scrollTo(0,0);location.reload()"><svg viewBox="0 0 24 24" class="f18"><path d="M20 13a8 8 0 1 1-10-8.7c4-1 8 1 9.4 4.7"></path><path d="M20 4v5h-5"></path></svg></div>'),on($$(".js-modal-item"),"click",function(e){e.preventDefault(),modal(this.dataset.id,"item")});let o;window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(()=>{const e=$("#item-jam");e&&(e.style.height=e.offsetWidth/(16/9)+"px");const t=$("#item-details-ad3");t&&(t.style.display=t.offsetWidth<160||window.innerWidth<841?"none":"block");var o=$(".item-video");const a=$(".pause-btn");o&&a&&(a.style.top=o.offsetTop+o.offsetHeight-46+"px",a.style.left=o.offsetLeft+11+"px");const n=$(".volume-slider-video");o&&n&&(n.style.top=o.offsetTop+o.offsetHeight-46+"px",n.style.left=o.offsetLeft+o.offsetWidth-46+"px")},50)});var l=$(".lang-select.nav-item-wrap");on(l,"click",function(){this.classList.toggle("hover")}),document.addEventListener("click",function(e){var t,o,a,n,i,s,d;e.target&&("item-add-my-btn"===(t=e.target.className)&&(d=e.target.dataset.type,n=e.target.dataset.id,IsLogged?(ajax("/"+d,null,"add="+n),showMessage(`Added to <a href="/${d}">your ${d}</a>`,"ok",8e3),"wishlist"===d&&(i=$(".wishlist-count"))&&(s=Number(i.textContent.replace(/,/g,""))+1,i.textContent=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),(o=$('.item-icon[data-id="'+n+'"] .item-icon-img'))&&(700<(a=(a=o.getBoundingClientRect().top+130)<0?0:a)&&(a=700),o.classList.add("wishlist-translate-anim"),setTimeout(function(){o.classList.remove("wishlist-translate-anim")},a)),e.target.className="item-del-my-btn"):showMessage(`<a href="/account?goto=${d}&add=${n}">Sign in</a> to create your `+d,"ok",6e5)),"item-del-my-btn"===t&&(ajax("/"+(d=e.target.dataset.type),null,"delete="+(n=e.target.dataset.id)),showMessage('Removed from <a href="/'+d+'">your '+d+"</a>","ok"),"wishlist"===d&&(i=$(".wishlist-count"))&&0<=(s=Number(i.textContent.replace(/,/g,""))-1)&&(i.textContent=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),window.IsMy&&Url.startsWith("/"+d)&&(remove($('.item-icon[data-id="'+n+'"]')),remove($('.item-icon[data-id="'+n+'"]')),!window.Items||-1<(d=Items.findIndex(e=>e.id==n))&&Items.splice(d,1)),e.target.className="item-add-my-btn")),remove($(".contextmenu")),l&&!l.contains(e.target)&&l.classList.remove("hover"),$$(".select").forEach(function(e){e.classList.remove("opened")})}),$(".vote-options")&&(window.storedType="items","/best-seasons"===location.pathname?window.storedType="seasons":"/concept-royale"===location.pathname?window.storedType="crc":"/best-augments"===location.pathname&&(window.storedType="augments"),window.storedVotes={},localStorage["fngg_"+window.storedType+"_votes"]&&(window.storedVotes=JSON.parse(localStorage["fngg_"+window.storedType+"_votes"])),$$(".vote-options").forEach(function(e){var t=window.storedVotes[e.dataset.id];void 0===t||(e=$('[data-vote="'+t+'"]',e))&&e.classList.add("active")}),$$(".vote-option").forEach(function(e){e.addEventListener("click",voteClick)})),$$(".fn-assets-header").forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("opened"),this.nextElementSibling.classList.toggle("opened")})});e="undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile");e?$$(".menu-item").forEach(function(e){e.addEventListener("click",function(){$("body").classList.remove("menu-opened")})}):($$("[data-tooltip]").forEach(function(e){initTooltip(e)}),document.addEventListener("click",function(){remove(tooltip)})),(new Image).src="/img/logo-christmas-hover.png";var a=null,t=$("#logo");t&&(t.addEventListener("mouseenter",function(){$("body").classList.add("menu-opened"),clearTimeout(a)}),t.addEventListener("mouseleave",function(){a=setTimeout(function(){$("body").classList.remove("menu-opened")},300)}),t.addEventListener("touchstart",function(){$("body").classList.toggle("menu-opened")}),e||(t.style.cursor="pointer",t.addEventListener("click",function(){location.href="/"})));var n,i,t=$("#menu");t&&(t.addEventListener("mouseenter",function(){$("body").classList.add("menu-opened"),clearTimeout(a)}),t.addEventListener("mouseleave",function(){$("body").classList.remove("menu-opened")}),t.style.display="block"),$$(".accordion-header").forEach(function(e){e.addEventListener("click",function(){this.parentNode.classList.toggle("opened")})}),$(".lazy")&&"IntersectionObserver"in window&&(n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&((e=e.target).src=e.dataset.src,e.classList.remove("lazy"),n.unobserve(e))})}),$$(".lazy").forEach(function(e){n.observe(e)})),$(".infinite-scroll")&&"IntersectionObserver"in window&&(i=new IntersectionObserver(function(e,t){e.forEach(function(t){var o;t.isIntersecting&&((o=t.target.parentElement).dataset.isLoading||(o.dataset.isLoading=!0,ajax(o.dataset.url+"&offset="+o.dataset.offset,function(e){delete o.dataset.isLoading,200===e.status&&(""===(e=JSON.parse(e.responseText)).html?(i.unobserve(t.target),remove(t.target)):(o.dataset.offset=e.offset,t.target.insertAdjacentHTML("beforebegin",e.html)))})))})}),$$(".infinite-scroll .loader").forEach(function(e){i.observe(e)}));t=$$(".header-menu");on(t,"mouseenter",()=>{$("body").classList.add("header-hover"),l&&l.classList.remove("hover")}),on(t,"mouseleave",()=>{$("body").classList.remove("header-hover"),l&&l.classList.remove("hover")}),on(t,"touchstart",()=>{$("body").classList.toggle("header-hover"),l&&l.classList.remove("hover")}),$$(".select").forEach(function(e){var t=!e.classList.contains("select-nochange"),o=$("select",e),a=document.createElement("div");a.className="select-selected",a.innerHTML=o.options[o.selectedIndex].innerHTML,a.addEventListener("click",function(e){e.stopPropagation();e=this.parentNode.classList.contains("opened");$$(".select").forEach(function(e){e.classList.remove("opened")}),this.parentNode.classList[e?"remove":"add"]("opened")}),e.appendChild(a);var n=document.createElement("div");n.className="select-options";for(var i,s=0;s<o.options.length;s++)o.options[s].disabled||((i=document.createElement("div")).innerHTML=o.options[s].innerHTML,i.dataset.idx=o.options[s].index,o.selectedIndex===o.options[s].index&&(i.className="same-as-selected"),i.addEventListener("click",function(){var e=$("select",this.parentNode.parentNode);e.selectedIndex=this.dataset.idx,e.dispatchEvent(new Event("change")),t&&(this.parentNode.previousSibling.innerHTML=this.innerHTML),this.parentNode.previousSibling.click(),$$(".same-as-selected",this.parentNode).forEach(function(e){e.className=""}),this.className="same-as-selected"}),n.appendChild(i));e.appendChild(n)}),on("#ad2-close","click",()=>{self.__VM=self.__VM||[],self.__VM.push((e,t)=>{window.AdSticky&&(e.removePlacement(AdSticky.instance()),$("#ad2-close").style.display="none")})})}),!IsLogged&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js?2");